var list=$("#list").val(),actions=$(".actions"),preview=$("#preview"),article=$(".articles-list").find(".dl"),postTitle=$("#post__title"),block=$("#block").val();list&&(list=JSON.parse(list)),actions.on("click",function(t){t.stopPropagation()}),article.on("click",function(){var t=$(this),i=t.data("index");t.addClass("on").siblings().removeClass("on"),postTitle.html(list[i].title),preview.html(""),editormd.markdownToHTML("preview",{markdown:list[i].markdown,htmlDecode:!0,tocm:!0,tocDropdown:!0,markdownSourceCode:!1,emoji:!0,taskList:!0,flowChart:!0,sequenceDiagram:!0})});var update=$(".update");update.on("click",function(){var o=$(this),l=o.siblings(".update").eq(0),t={_id:o.data("id"),postType:1,article:{isDraft:o.data("isdraft")}};o.hasClass("loading")||(o.addClass("loading"),apiPublish({data:t,block:block,callback:function(t){var i=t.status,a=t.msg;setTimeout(function(){o.removeClass("loading")},500),0===i?($.growl.notice({title:"更新成功!"}),o.toggleClass("hide"),l.toggleClass("hide")):$.growl.error({message:a})}}))}),$(".icon-delete").on("click",function(){var t=$(this),i=t.data("id"),o=t.closest(".dl"),a={_id:i};$.growl({duration:!1,clickToClose:!1,layout:"confirm",location:"dialog",title:" 确认删除",message:"你确定要删除吗?",yes:function(){apiDelete({data:a,block:block,callback:function(t){var i=t.status,a=t.msg;0===i?($.growl.notice({title:" 文章已删除!"}),o.remove()):$.growl.error({message:a})}})}})});